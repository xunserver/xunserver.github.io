import{_ as a,c as i,o as e,ah as t}from"./chunks/framework.BurO9VyR.js";const k=JSON.parse('{"title":"etcd使用","description":null,"frontmatter":{"title":"etcd使用","comments":true,"hide":false,"abbrlink":"19889329","date":"2019-10-29T16:57:54.000Z","updated":"2019-10-29T16:57:54.000Z","tags":null,"categories":null,"description":null},"headers":[],"relativePath":"posts/etcd使用.md","filePath":"posts/etcd使用.md"}'),n={name:"posts/etcd使用.md"};function l(p,s,h,d,r,c){return e(),i("div",null,s[0]||(s[0]=[t(`<h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h2><ol><li>分布式键值对存储仓库（基础使用）</li><li>配置共享和服务发现（高级场景） <a href="https://blog.csdn.net/bbwangj/article/details/82584988" target="_blank" rel="noreferrer">其他场景</a></li></ol><h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h2><p>软件版本 <code>v3.4.3</code></p><h3 id="下载解压" tabindex="-1">下载解压 <a class="header-anchor" href="#下载解压" aria-label="Permalink to &quot;下载解压&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/etcd-io/etcd/releases/download/v3.4.3/etcd-v3.4.3-linux-amd64.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xzvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> etcd-v3.4.3-linux-amd64.tar.gz</span></span></code></pre></div><h3 id="单机单节点部署" tabindex="-1">单机单节点部署 <a class="header-anchor" href="#单机单节点部署" aria-label="Permalink to &quot;单机单节点部署&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ./etcd</span></span></code></pre></div><h3 id="参数说明" tabindex="-1">参数说明 <a class="header-anchor" href="#参数说明" aria-label="Permalink to &quot;参数说明&quot;">​</a></h3><p>参数支持命令行参数和 yaml 配置文件形式</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>name  // 节点名称 默认为default</span></span>
<span class="line"><span>data-dir  // 存储目录 ;</span></span>
<span class="line"><span>initial-advertise-peer -urls; // 初始化通信地址 默认 http://localhost:2380</span></span>
<span class="line"><span>listen-peer-urls; // 通信地址  默认 http://localhost:2380</span></span>
<span class="line"><span>initial-cluster; // 集群节点配置信息 node1=http://192.168.1.10:2380,node2=...</span></span>
<span class="line"><span>listen-client-urls // 客户端地址</span></span>
<span class="line"><span>advertise-client-urls  // 对外公告的地址</span></span></code></pre></div><h3 id="发现模式" tabindex="-1">发现模式 <a class="header-anchor" href="#发现模式" aria-label="Permalink to &quot;发现模式&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     $</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://discovery.etcd.io/new?size=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     http://discovery.etcd.io/3e86b59982e49066c5d813af1c2e2579cbf573de</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     $</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./etcd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -discovery</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://discovery.etcd.io/3e86b59982e49066c5d813af1c2e2579cbf573de</span></span></code></pre></div><h2 id="扩展节点" tabindex="-1">扩展节点 <a class="header-anchor" href="#扩展节点" aria-label="Permalink to &quot;扩展节点&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 旧节点启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./etcdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> member</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --peer-urls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://192.168.10.12</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 新节点加入 initial-cluster-state 设置为 existing</span></span></code></pre></div>`,15)]))}const g=a(n,[["render",l]]);export{k as __pageData,g as default};
