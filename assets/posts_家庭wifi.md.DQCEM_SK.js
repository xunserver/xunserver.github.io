import{_ as e,c as i,o as r,ah as t}from"./chunks/framework.BurO9VyR.js";const p=JSON.parse('{"title":"家庭wifi组件方案","description":null,"frontmatter":{"title":"家庭wifi组件方案","comments":true,"hide":false,"abbrlink":"e77ca00e","date":"2022-10-31T10:39:11.000Z","updated":"2022-10-31T10:39:11.000Z","tags":null,"categories":null,"description":null},"headers":[],"relativePath":"posts/家庭wifi.md","filePath":"posts/家庭wifi.md"}'),l={name:"posts/家庭wifi.md"};function o(n,a,d,h,s,c){return r(),i("div",null,a[0]||(a[0]=[t('<h3 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h3><p>最近搭建家庭wifi，目前屋里的wifi客厅放一个，在房间信号不是很好。需要搭建一个支持漫游的wifi方案，爱快、高恪等方案太贵，开源的padavan漫游效果又太差。综合下来集客的AC + Ap方案性价比比较高。在房间和客厅任意走动，wifi不会出现断的情况。</p><h3 id="设备" tabindex="-1">设备 <a class="header-anchor" href="#设备" aria-label="Permalink to &quot;设备&quot;">​</a></h3><p>集客方案需要AC一个和多个AP，AC主要是起一个控制调度作用，AP负责信号的发送，AC需要设备配置不用多高，而且不需要网络，我的设备如下 AC: 小米路由器mini * 1 闲鱼、PDD 大概30内包邮 AP1: JCG Q20/q10 pro（支持wifi6，书房给mac用） 闲鱼 大概 70 一个 AP2：红米 AC2100（作为客厅主力AP） 闲鱼85包邮 AP3: 小米路由器pro（备用机器，刷了padavan随时接管屋里wifi） 闲鱼85包邮 AP4：vs010（ax3000） 闲鱼90包邮 AP5：rax3000Q（ax3000） 闲鱼100包邮 AP6：大麦 dw33d （ac 1750） 闲鱼45包邮 AP7: 华硕arch17 闲鱼120包邮 AP8: 小米R3G (ac 1200， 最能造的机器) 闲鱼 50包邮 上面的方案中小米路由器不支持集客AP方案，刷了246ND能正常开机和只能打开2.4G wifi，只能降级作为备用机器，不参与家庭AP。其他设备都可以选择，都是自己折腾过能用的设备。</p><h3 id="小米路由器mini-刷入-ac" tabindex="-1">小米路由器mini 刷入 AC <a class="header-anchor" href="#小米路由器mini-刷入-ac" aria-label="Permalink to &quot;小米路由器mini 刷入 AC&quot;">​</a></h3><h4 id="breed" tabindex="-1">breed <a class="header-anchor" href="#breed" aria-label="Permalink to &quot;breed&quot;">​</a></h4><ol><li><a href="http://miwifi.com/miwifi_download.html" target="_blank" rel="noreferrer">官方固件</a>去下载自己的型号的开发版固件</li><li>电脑网页登录路由器后台管理页面，一般是<a href="http://192.168.31.1/" target="_blank" rel="noreferrer">192.168.31.1</a>。右上角找到固件升级，上传开发版固件升级。</li><li>升级完后，手机小米wifi app绑定路由器</li><li>官方查看SSH密码， <a href="https://d.miwifi.com/rom/ssh" target="_blank" rel="noreferrer">https://d.miwifi.com/rom/ssh</a>，并按照提示刷入解锁固件（注意，如果下载工具失败，浏览器控制台找到报错的文件，直接下载），U盘除了放入解锁固件外，还需要把breed的固件也同时放入，在<a href="https://breed.hackpascal.net/" target="_blank" rel="noreferrer">https://breed.hackpascal.net/</a>中找到xiaomini的breed固件，下载放入U盘即可。</li><li>按照官方提示解锁固件后，登录路由器后台SSH（直接 ssh root@192.168.31.1或者使用putty等工具）。首先备份固件 cat /proc/mtd 查看分区，然后使用 dd if=/dev/mdt0 of=/extdisks/sda4/xxx.bin 挨着备份固件到U盘。备份完成后使用 mtd_write write breed.bin Bootloader 刷入 breed。刷入后等10S拔电即可。</li></ol><h4 id="刷入集客ac" tabindex="-1">刷入集客AC <a class="header-anchor" href="#刷入集客ac" aria-label="Permalink to &quot;刷入集客AC&quot;">​</a></h4><ol><li><a href="http://file.cnrouter.com/" target="_blank" rel="noreferrer">集客官方</a>网页下载 企业路由X1 固件。</li><li>连接好网线，先捅reset不放 ，再开机，10S后松开</li><li>电脑浏览器192.168.1.1 进入控制台。固件更新页面，选择固件X1固件上传。等待刷机后即可。</li></ol><h4 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h4><p>集客AC目前是旁AC模式，简单的将原有网络插入wan口即可，不会对原有网络侵扰，如果不使用小米路由器mini，也可以使用虚拟机安装一个x86的集客AC控制器</p><h3 id="小米r3g-刷入集客ap" tabindex="-1">小米R3G 刷入集客AP <a class="header-anchor" href="#小米r3g-刷入集客ap" aria-label="Permalink to &quot;小米R3G 刷入集客AP&quot;">​</a></h3><p>小米R3G首先刷入breed，方法同上面小米mini。同样是breed控制台刷入集客AP246ND固件（集客选择MKT AP就能找到），刷入好网线接入到wan口</p><h3 id="ac管理" tabindex="-1">AC管理 <a class="header-anchor" href="#ac管理" aria-label="Permalink to &quot;AC管理&quot;">​</a></h3><p>AC和AP通电后都接入同一个局域网，等待1分钟后，AP会自动发现AC。到路由器的管理页面查看是否有新设备（有GECOO开头的就是），一个IP一个IP的试，有输入的用户名和密码的就是AC控制器。AC控制器的默认密码是changemeplease。进入后修改各种参数集客，5G射频2不用管，配置了也没得用。</p>',15)]))}const m=e(l,[["render",o]]);export{p as __pageData,m as default};
